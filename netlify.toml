[build]
command = "pnpm run build && pnpm run lint && pnpm run typecheck"
publish = "build/client"

[dev]
command = "pnpm run dev"
framework = "vite"

[[headers]]
for = "/assets/*"
[headers.values]
"Cache-Control" = "public, max-age=31536000, s-maxage=31536000"

[[headers]]
for = "/fonts/*"
[headers.values]
"Cache-Control" = "public, max-age=31536000, immutable"

[[plugins]]
package = "@netlify/plugin-lighthouse"

# Configure Lighthouse audits
[plugins.inputs]
# Set thresholds for metrics
[plugins.inputs.thresholds]
performance = 0.8
accessibility = 0.9
best-practices = 0.8
seo = 0.9

# Audit the root path (index.html)
[[plugins.inputs.audits]]
path = "/"
output_path = "reports/lighthouse.html"
